# ====================================
# CONFIG SERVER CONFIGURATION
# ====================================

# Application Name
spring.application.name=RR-Banking-Application

# ====================================
# CONFIG SERVER SETTINGS
# ====================================

# Enable Config Server (set to true to run as Config Server)
spring.cloud.config.server.enabled=false

# ====================================
# NATIVE FILE SYSTEM CONFIGURATION (DEFAULT)
# ====================================

# Use native file system for configuration
spring.cloud.config.server.native.search-locations=classpath:/config,file:./config

# Use native profile by default
spring.profiles.active=native

# ====================================
# GIT-BACKED CONFIGURATION (OPTIONAL)
# ====================================

# Git repository URL
# spring.cloud.config.server.git.uri=https://github.com/your-org/config-repo

# Git repository username (if private repo)
# spring.cloud.config.server.git.username=your-username

# Git repository password (if private repo)
# spring.cloud.config.server.git.password=your-password

# Git repository search paths
# spring.cloud.config.server.git.search-paths=config,{application}

# Git repository default label (branch)
# spring.cloud.config.server.git.default-label=main

# Clone repository on startup
# spring.cloud.config.server.git.clone-on-start=true

# Force pull
# spring.cloud.config.server.git.force-pull=true

# ====================================
# CONFIG CLIENT SETTINGS
# ====================================

# Enable Config Client
spring.cloud.config.enabled=false

# Config Server URL
spring.cloud.config.uri=http://localhost:8080

# Application name for config retrieval
spring.cloud.config.name=${spring.application.name}

# Active profile
spring.cloud.config.profile=${spring.profiles.active:default}

# Fail fast if config server is not available
spring.cloud.config.fail-fast=false

# Retry configuration
spring.cloud.config.retry.max-attempts=6
spring.cloud.config.retry.initial-interval=1000
spring.cloud.config.retry.multiplier=1.1
spring.cloud.config.retry.max-interval=2000

# ====================================
# CONFIGURATION REFRESH
# ====================================

# Enable configuration refresh
management.endpoints.web.exposure.include=*
management.endpoint.refresh.enabled=true

# ====================================
# ENCRYPTION / DECRYPTION (OPTIONAL)
# ====================================

# Enable encryption
# encrypt.key=your-encryption-key

# Or use key store
# encrypt.key-store.location=classpath:server.jks
# encrypt.key-store.password=your-password
# encrypt.key-store.alias=config-server
# encrypt.key-store.secret=your-secret

# ====================================
# LOGGING
# ====================================

logging.level.org.springframework.cloud.config=INFO
logging.level.com.RRBank.banking.configserver=DEBUG

# ====================================
# CONFIG SERVER PROFILES
# ====================================

# You can create environment-specific configuration files:
# - application-dev.properties
# - application-test.properties
# - application-staging.properties
# - application-production.properties

# ====================================
# NOTES
# ====================================
#
# Config Server Endpoints:
# - GET /{application}/{profile}[/{label}]
# - GET /{application}-{profile}.yml
# - GET /{application}-{profile}.properties
# - GET /{label}/{application}-{profile}.yml
# - GET /{label}/{application}-{profile}.properties
#
# Example:
# - http://localhost:8080/RR-Banking-Application/dev
# - http://localhost:8080/RR-Banking-Application-dev.yml
# - http://localhost:8080/RR-Banking-Application-dev.properties
#
# Management Endpoints:
# - GET  /api/config/status - Config server status
# - GET  /api/config/profiles - Available profiles
# - POST /api/config/refresh - Refresh configuration
# - GET  /api/config/test - Test connectivity
# - GET  /api/config/endpoints - Available endpoints
#
# Configuration File Structure:
# config/
#   ├── application.yml (default config for all apps)
#   ├── RR-Banking-Application.yml (app-specific config)
#   ├── RR-Banking-Application-dev.yml (dev environment)
#   ├── RR-Banking-Application-test.yml (test environment)
#   ├── RR-Banking-Application-staging.yml (staging environment)
#   └── RR-Banking-Application-production.yml (production environment)
